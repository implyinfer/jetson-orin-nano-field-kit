###############################################
# MediaMTX Configuration for IMX219 Camera(s)
###############################################

logLevel: info
logDestinations: [stdout]

# RTSP server settings
rtspAddress: :8554

# HLS server (for web browser viewing)
hlsAddress: :8888

# WebRTC server (for low-latency web viewing)
webrtcAddress: :8889

# Authentication - allow anyone (change for production!)
authMethod: internal
authInternalUsers:
- user: any
  pass:
  ips: []
  permissions:
  - action: publish
  - action: read
  - action: playback

###############################################
# Camera stream paths
###############################################

paths:
  # Single camera or Left camera (video0)
  cam0:
    runOnInit: bash /home/box/jetson-orin-nano-field-kit/system/mediamtx/stream_cam0.sh
    runOnInitRestart: yes

  # Right camera (video1) - uncomment if using dual cameras
  # cam1:
  #   runOnInit: bash /home/box/jetson-orin-nano-field-kit/system/mediamtx/stream_cam1.sh
  #   runOnInitRestart: yes
