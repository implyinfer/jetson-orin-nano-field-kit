###############################################
# MediaMTX Configuration for IMX219 Camera(s)
# Optimized for ultra low-latency RTSP
###############################################

logLevel: info
logDestinations: [stdout]

# RTSP server settings
rtspAddress: :8554

# HLS server (for web browser viewing)
hlsAddress: :8888

# WebRTC server (for low-latency web viewing)
webrtcAddress: :8889
webrtcICEHostNAT1To1IPs: [192.168.1.116]
webrtcLocalUDPAddress: :8189

# Authentication - allow anyone (change for production!)
authMethod: internal
authInternalUsers:
- user: any
  pass:
  ips: []
  permissions:
  - action: publish
  - action: read
  - action: playback

###############################################
# Camera stream paths
###############################################

paths:
  cam0:
    runOnInit: bash /home/box/jetson-orin-nano-field-kit/system/mediamtx/start_cam0.sh
    runOnInitRestart: yes

  cam1:
    runOnInit: bash /home/box/jetson-orin-nano-field-kit/system/mediamtx/start_cam1.sh
    runOnInitRestart: yes
